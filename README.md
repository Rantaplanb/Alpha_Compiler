# The Alpha Language Compiler



## Overview

**The Alpha language is a group project needed for class CS340 of the University of Crete.**

The current repository includes the **alphac** compiler for the language. The output of the compiler is **Alpha byte code**, a byte code format that is accepted and run by the **avm** project (Alpha virtual machine).





## Build / test process

**alphac** is sectioned in 4 main parts:

* Lexical analysis
* Syntactical analysis
* Intermediate code generation
* Byte code generation

Each part has a separate folder, and a makefile in that project. Executables generated by those are stored in `/bin`.

**Prerequisites for building:**

* `GNU make`
* `flex`
* `gcc`

**Extra tools needed for debugging and formatting:**

* `valgrind` (dynamic memory leak analysis)
* `clang-format` (code style formatting)



### Lexical Analyzer

To build and test **al** (the lexical analyzer executable) go to **/lexical_analyzer** and type:

* `make flex_an` to build the flex implementation. **al** executable is generated in `/bin`.

* `make custom_an` to build the custom implementation. **al** executable is generated in `/bin`.

* `make tests` to test the **al** executable with test files.

  **Warning:** **al** must already have been built with one of the respective makefile targets.

* `make memcheck` to dump memory leak debugging information in `/lexical_analyzer/memcheck.out`.

  **Warning:** **al** must already have been built with one of the respective makefile targets.

* `make format` to format all `C` and `C++` files with the style dictated by `/.clang-format`.

* `make clean` to remove the **al** executable.

* `make distclean` to remove the **al** executable, and all intermediate files generated for the builds.



### Syntactical Analyzer

To build and test **parser** (the syntactical analyzer executable) go to **/syntactical_analyzer** and type:

* `make parser` to build the **parser** executable in `/bin`.
* `make test_all` to test the generated **parser** executable with all files in `/test_files` directory.
* `make format` to format all `C` and `C++` files with the style dictated by `/.clang-format`.
* `make clean` to remove the **parser** executable.
* `make distclean` to remove the **parser** executable, and all intermediate files generated for the builds.



### Alpha IR Generation

To build and test **parser** (the AIR generation executable) go to **/IR_generation** and type:

* `make parser` to build the **parser** executable in `/bin`.
* `make test_all` to test the generated **parser** executable with all files in `/test_files` directory.
* `make format` to format all `C` and `C++` files with the style dictated by `/.clang-format`.
* `make clean` to remove the **parser** executable.
* `make distclean` to remove the **parser** executable, and all intermediate files generated for the builds.

#### Parser executable

**Usage:** `./parser source_code_file [-o air_file_name] [-sf scopes_file_name]`

* `source_code_file` is the **Alpha** source code file you wish to compile.
  * If no such file is given the compiler defaults to taking input from `stdin`.
* `scopes_file_name` will be filled with information about the created symbols of the compiler and their scopes.
  * If no such file is specified the compiler supresses the information.
* `air_file_name` will contain the AIR quads created by the compiler.
  * If no such file is given:
    * If a `source_code_file` is specified the compiler outputs the corresponding `.air` file in the source file's directory.
    * If a `source_code_file` isn't specified the compiler outputs the corresponding `.air` file in `stdout`.



## TODOs

- [x] **Lexical Analysis**
- [x] **Syntactical Analysis**
- [x] **Alpha Intermediate Representation - AIR**
- [ ] **Alpha Byte Code**





## Authors

* George Manos
* Loukas Mertzanis
* Dimitris Aspetakis
